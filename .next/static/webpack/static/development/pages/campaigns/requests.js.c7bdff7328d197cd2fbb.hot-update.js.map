{"version":3,"file":"static/webpack/static/development/pages/campaigns/requests.js.c7bdff7328d197cd2fbb.hot-update.js","sources":["webpack:///./components/RequestRow.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Table, Button } from 'semantic-ui-react';\nimport web3 from '../ethereum/web3';\nimport Campaign from '../ethereum/campaign';\n\nclass RequestRow extends Component {\n\n  onApprove = async () => {\n    const campaign = Campaign(this.props.address);\n    const accounts = await web3.eth.getAccounts();\n    await campaign.methods.approveRequest(this.props.id).send({\n      from: accounts[0]\n    });\n  }\n\n  onFinalize = async () => {\n    const campaign = Campaign(this.props.address);\n    const accounts = await web3.eth.getAccounts();\n    await campaign.methods.finalizeRequest(this.props.id).send({\n      from: accounts[0]\n    });\n  }\n\n  render(){\n    const { Row, Cell } = Table;\n    const { id, request, approversCount } = this.props;\n    const readyToFinalize = request.approvalCount > approversCount / 2;\n\n    return (\n      <Row disabled={request.complete} positive={readyToFinalize && !request.complete}>\n        <Cell>{id}</Cell>\n        <Cell>{request.description}</Cell>\n        <Cell>{web3.utils.fromWei(request.value,'ether')}</Cell>\n        <Cell>{request.recipient}</Cell>\n        <Cell>{request.approvalCount} / {approversCount}</Cell>\n        <Cell>\n        {request.complete ? null : (\n          <Button color=\"green\" basic onClick={this.onApprove}>Approve</Button>\n          )\n        }\n        </Cell>\n        <Cell>\n        {request.complete ? null : (\n          <Button color=\"teal\" basic onClick={this.onFinalize}>Finalize</Button>\n          )\n        }\n        </Cell>\n      </Row>\n    );\n  }\n}\n\nexport default RequestRow;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AAIA;AADA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AAIA;AADA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAMA;;;;AA5CA;AACA;AA8CA;;;;A","sourceRoot":""}